# ########################################################
# --------------------------------------------------------
# Created by isardSAT S.L. 
# --------------------------------------------------------
# JasonCS 
# This code implements the algorithm as described in the
# isardSAT_JasonCS_DPM_JC-DS-ISR-SY-0006_v5a_20130605
#
# ---------------------------------------------------------
# Objective: Define characterization parameters
# 
# INPUTs : - 
# OUTPUTs: -
#
# ----------------------------------------------------------
#
# ########################################################
from .cst import *

## Other (not in the DPM)

alt_clock_period_sar_ku = 1/395e6 # 1/f0
wv_length_ku = 0.022084

## Main
freq_ku_chd             = c_cst / wv_length_ku
bw_ku_chd               = 320 * 1e6
# freq_c_chd              = c_cst / wv_length_c
# bw_c_chd                = 'TBC' * 1e6

## Time patern
N_samples_sar_chd       = 256    # SAR Samples
N_samples_rmc_chd       = 128    # SAR RMC Samples
N_ku_pulses_burst_chd   = 64   # SAR Ku pulses in burst
N_c_pulses_burst_chd    = 1     # SAR C pulses in burst
N_pulses_burst          = N_ku_pulses_burst_chd + N_c_pulses_burst_chd
N_bursts_cycle_sar_chd  = 7 # Bursts in a cycle
N_pri_sar_c_ku_chd      = 0

pulse_length_chd        = 32 * 1e-6
tx1_sar_chd             = 0

chirp_slope_ku_chd      = bw_ku_chd/pulse_length_chd


## Platform

x_ant_chd               = 0
y_ant_chd               = 0
z_ant_chd               = 0
x_cog_chd               = 0
y_cog_chd               = 0
z_cog_chd               = 0

x_cog_ant = x_ant_chd - x_cog_chd
y_cog_ant = y_ant_chd - y_cog_chd
z_cog_ant = z_ant_chd - z_cog_chd

## Antenna
#Errors of pointing from Rob presentation on requirements meeting 28/01/2015

roll_random_error_chd       = 0.0496/180*pi #radians.
pitch_random_error_chd      = 0.0499/180*pi #radians.
yaw_random_error_chd        = 0.0494/180*pi #radians.
roll_bias_error_chd         = 0.0828/180*pi #radians.
pitch_bias_error_chd        = 0.0722/180*pi #radians.
yaw_bias_error_chd          = 0.0068/180*pi #radians.
roll_harmonic_error_chd     = 0.0441/180*pi #radians.
pitch_harmonic_error_chd    = 0.0534/180*pi #radians.
yaw_harmonic_error_chd      = 0.0250/180*pi #radians.

antenna_gain_ku_chd             = 42.1
antenna_beamwidth_ku_chd        = 1.35 #Degrees

## Window Delay

#SCENARIO1
ext_delay_ground_chd = - 1000e-12
int_delay_ground_chd = - 7000e-12
# SCENARIO3
# ext_delay_ground_chd = 0
# int_delay_ground_chd = 0

## AGC and waveforms scaling factor computation
agc_telem_to_meas_table_cal1_chd = 0
rfu_rx_gain_ground_chd = 130
onboard_proc_sar_chd = 66.2266
onboard_proc_rmc_chd = -42.1
ins_losses_ground_chd = 0
power_tx_ant_ku_chd = 7.5

## USO CLock
uso_freq_nom_chd = 10e6
alt_freq_multiplier_chd = 39.5
T0_nom = 1/(uso_freq_nom_chd * alt_freq_multiplier_chd)

pri_T0_unit_conv_chd = 8
h0_cor2_unit_conv_chd = 16
T0_h0_unit_conv_chd = 64
cai_cor2_unit_conv_chd = 4096

i_sample_start_chd = 1

## Weightings
azimuth_weighting_filename_chd = []











